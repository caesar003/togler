.TH TOGLER 1 "August 2025" "__VERSION__" "User Commands"
.SH NAME
togler \- toggle application visibility on X11 and Wayland desktops
.SH SYNOPSIS
.B togler
[\fB-t\fR \fI<application-name>\fR]
.br
.B togler
[\fB-b\fR [\fI<key>\fR] [\fI<application-name>\fR]]
.br
.B togler
[\fB-a\fR [\fI<application-name>\fR] [\fI<shortcut-name>\fR] [\fI<key>\fR]]
.br
.B togler
[\fB-d\fR [\fI<application-name>\fR]]
.br
.B togler
[\fB-l\fR]
.br
.B togler
[\fB--setup-wayland\fR]
.br
.B togler
[\fB-v\fR | \fB--version\fR]
.br
.B togler
[\fB-h\fR | \fB--help\fR]
.SH DESCRIPTION
Togler is a lightweight utility to toggle the visibility and focus state of GUI applications on both X11 and Wayland desktop sessions.

Primarily designed to be used with GNOME keybindings for fast application access, Togler can:
.IP \[bu] 2
Toggle focus/minimize state of app windows
.IP \[bu]
Bind key combinations to specific applications
.IP \[bu]
Create GNOME custom keybindings interactively or via arguments
.IP \[bu]
List or delete existing Togler-managed keybindings
.IP \[bu]
Automatically setup Wayland support via GNOME Shell extension

It provides minimal but powerful functionality for workflow optimization. It is interactive when parameters are omitted, allowing it to work well in scripts or user-driven terminals.

On X11 systems, Togler uses xdotool for window management. On Wayland systems, it automatically installs and uses a GNOME Shell extension for seamless window toggling.

.SH OPTIONS
.TP
.BR -t ", " --toggle " <application-name>"
Toggle the window(s) of the specified application. If the app is running, it will activate, cycle between open windows, or minimize. If not running, it will be launched. On first use with Wayland, the required GNOME Shell extension will be automatically installed.
.TP
.BR -b ", " --bind " [<key>] [<application-name>]"
Bind a custom key to toggle an application. If key or app name is missing, you'll be prompted interactively.
.TP
.BR -a ", " --add " [<application-name>] [<shortcut-name>] [<key>]"
Add a GNOME custom keybinding to toggle an app. Prompts for any missing arguments.
.TP
.BR -d ", " --delete " [<application-name>]"
Delete a Togler-created GNOME keybinding for the given app. Prompts if app name is not provided. Includes a playful confirmation prompt.
.TP
.BR -l ", " --list
List all Togler bindings currently managed by GNOME.
.TP
.BR --setup-wayland
Manually install and setup the GNOME Shell extension for Wayland support. This is automatically done on first use, but can be triggered manually if needed.
.TP
.BR -v ", " --version
Show version and exit.
.TP
.BR -h ", " --help
Show help message and exit.

.SH EXAMPLES
.TP
.B togler -t firefox
Toggle the Firefox window.
.TP
.B togler -b "<Alt>f" firefox
Bind Alt+F to toggle Firefox.
.TP
.B togler -a code "Toggle VSCode" "<Super>c"
Create a GNOME shortcut to toggle VS Code with Super+C.
.TP
.B togler -l
List all Togler-managed GNOME keybindings.
.TP
.B togler -d code
Delete the keybinding for "code".
.TP
.B togler --setup-wayland
Manually setup Wayland support (install GNOME Shell extension).

.SH ENVIRONMENT
This script depends on the following:
.TP
.B xdotool
Used to interact with window states on X11 sessions. Automatically installed on most distributions. Not used on Wayland.
.TP
.B gsettings
Used to create and manage GNOME keybindings. Required on both X11 and Wayland.
.TP
.B GNOME Shell
Required for Wayland support. The extension is automatically installed when needed.
.TP
.B bash
The script uses modern Bash syntax and helper functions.

.SH WAYLAND SUPPORT
Togler automatically detects Wayland sessions and installs a lightweight GNOME Shell extension for window management. The extension:
.IP \[bu] 2
Is automatically installed on first use
.IP \[bu]
Requires no user interaction after installation
.IP \[bu]
Provides the same functionality as X11 xdotool integration
.IP \[bu]
Is stored in ~/.local/share/gnome-shell/extensions/togler@local

If the extension installation fails, restart GNOME Shell (Alt+F2, type 'r', press Enter) or log out and back in.

.SH SEE ALSO
xdotool(1), gsettings(1), gnome-shell(1)

.SH AUTHOR
Written by Caesar (https://github.com/caesar003)

.SH BUGS
Interactive prompts may not be suitable for automated scripts unless parameters are fully supplied.

Report bugs at: https://github.com/caesar003/togler/issues
